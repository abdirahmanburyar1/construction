"use strict";(()=>{var e={};e.id=454,e.ids=[454],e.modules={3524:e=>{e.exports=require("@prisma/client")},2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4770:e=>{e.exports=require("crypto")},2398:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>g,patchFetch:()=>m,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>x,staticGenerationAsyncStorage:()=>d});var r={};n.r(r),n.d(r,{POST:()=>u});var i=n(9303),a=n(8716),o=n(670),s=n(7070),l=n(5456);async function u(){await (0,l.cI)();let e=process.env.PLATFORM_DOMAIN||"localhost:3000",t=!e.includes("localhost"),n=`${t?"https":"http"}://${e}`;return s.NextResponse.redirect(`${n}/login`)}let c=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/tenant-logout/route",pathname:"/api/tenant-logout",filename:"route",bundlePath:"app/api/tenant-logout/route"},resolvedPagePath:"C:\\construction\\src\\app\\api\\tenant-logout\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:x}=c,g="/api/tenant-logout/route";function m(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:d})}},5456:(e,t,n)=>{n.d(t,{NK:()=>c,Rr:()=>s,cI:()=>l,xB:()=>u});var r=n(1615);n(2023);var i=n(3538);let a="tenant_session",o="admin_session";async function s(){let e=await (0,r.cookies)(),t=e.get(a)?.value;if(!t)return null;let[n]=t.split(":");return n?await i._.tenant.findUnique({where:{id:n},select:{id:!0,email:!0}}):null}async function l(){(await (0,r.cookies)()).delete(a)}async function u(){let e=await (0,r.cookies)(),t=e.get(o)?.value;if(!t)return null;let[n]=t.split(":");return n?await i._.admin.findUnique({where:{id:n},select:{id:!0}}):null}async function c(){(await (0,r.cookies)()).delete(o)}},3538:(e,t,n)=>{n.d(t,{_:()=>i});var r=n(3524);let i=globalThis.prisma||new r.PrismaClient({log:["error"]})}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[276,615,23,972],()=>n(2398));module.exports=r})();